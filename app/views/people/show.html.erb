<h4><%= @person.name.upcase %>'s Details</h4>
<p>
Age: <%= @person.age %> <br>
Weight: <%= @person.weight %> kg <br>
Body Build: <%= @person.body_build %>
</p>

<%= link_to "Edit", edit_person_path(@person) %>  
<%= link_to "Remove", person_path(@person), data: {
                    turbo_method: :delete,
                    turbo_confirm: "Are you sure?"
                  } %>
<section>
<h5><%= @person.name.upcase %>'s Ongoing Trail </h5>
<% if @person.ongoing_practice? %> 
  <table>
  <thead>
  <tr>
  <th colspan="2"><%= @person.ongoing_practice.trail.name %></th>
  </tr>
  </thead>
  <tr>
  <td><%= link_to "Details", @person.ongoing_practice.trail %></td>
  <td>
  <%= form_with model: [@person, @person.ongoing_practice] do |form| %>
    <%= form.hidden_field :status, value: :FINISHED %>
    <%= form.hidden_field :person_id, value: @person.id %>
    <%= form.submit "Mark as Finished"%>
  <% end %>
  </td>
  </tr>
  </table>
<% else %> 
  <p> None at the moment. <%= link_to "Start Practice on a Trail!", new_person_practice_path(@person) %> </p>
<% end %> 

<h5><%= @person.name.upcase %>'s Past Trails: </h5>
<% if @person.past_practices? %> 
  <ul>
  <% @person.past_practices.each do |practice| %> 
    <li><%= link_to practice.trail.name, practice.trail %> (<%= practice.updated_at.to_fs(:db) %>)</li> 
  <% end %> 
  </ul>
<% else %> 
  None yet!
<% end %>

<h2><%= @person.name.upcase %>'s Races: </h2>
<%= link_to "Register for a Race", new_person_run_path(@person) %></td>

<h3>Run history</h3>
<ul>
<% @person.runs.each do |run| %> 
  <li>
  <%= link_to run.race.name, person_run_path(@person, run) %> 
  </li>
  <br>
<% end %> 
</ul>